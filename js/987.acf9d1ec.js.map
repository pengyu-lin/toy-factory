{"version":3,"file":"js/987.acf9d1ec.js","mappings":"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","sources":["webpack://toy-factory/./src/views/CartPage.vue","webpack://toy-factory/./src/views/CartPage.vue?115c"],"sourcesContent":["<template v-if=\"cart.carts\">\r\n  <LoadingEl :active=\"isLoading\" />\r\n  <div class=\"container py-lg-5\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/\">首頁</router-link></li>\r\n        <li class=\"breadcrumb-item\">購物車</li>\r\n      </ol>\r\n    </nav>\r\n    <h2><i class=\"bi bi-cart3 fs-3\"/> 購物車</h2>\r\n    <hr />\r\n    <div class=\"text-center pb-5\" :class=\"{ 'd-none': cart.total !== 0 }\">\r\n      <i class=\"bi bi-cart4\" style=\"font-size: 150px\"/>\r\n      <p class=\"fs-2\">購物車是空的，來去逛逛吧!</p>\r\n      <button type=\"button\" class=\"btnStyle\" @click=\"$router.push('/products')\">\r\n        選玩具\r\n      </button>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-8\">\r\n        <div\r\n          class=\"border border-primary d-flex flex-column flex-md-row align-items-center p-3 mb-3 text-center\"\r\n          v-for=\"item in cart.carts\"\r\n          :key=\"item.id\"\r\n        >\r\n          <img\r\n            :src=\"item.product.imageUrl\"\r\n            class=\"productImg\"\r\n            :alt=\"item.product.title\"\r\n            @click=\"getProduct(item.product.id)\"\r\n            style=\"cursor:pointer;\"\r\n          />\r\n          <p class=\"h6 my-3 my-md-0\" style=\"width: 30%\">\r\n            {{ item.product.title }}\r\n          </p>\r\n          <div class=\"input-group\" style=\"width: 150px\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-dark\"\r\n              @click=\"updateCart(item, item.qty - 1)\"\r\n              :disabled=\"item.qty == 1\"\r\n            >\r\n              <i class=\"bi bi-dash\" />\r\n            </button>\r\n            <input\r\n              type=\"text\"\r\n              min=\"1\"\r\n              v-model.number=\"item.qty\"\r\n              class=\"form-control form-control-sm text-center border-dark\"\r\n              readonly\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-dark\"\r\n              @click=\"updateCart(item, item.qty + 1)\"\r\n            >\r\n              <i class=\"bi bi-plus\" />\r\n            </button>\r\n          </div>\r\n          <p class=\"my-3 my-md-0\" style=\"width: 20%\">\r\n            NT{{ $filters.currency(item.final_total) }}\r\n          </p>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary btnCircle mx-2 rounded-circle fs-4 text-white\"\r\n            @click=\"removeCartItem(item, item.id)\"\r\n          >\r\n            <i class=\"bi bi-trash\"/>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-4 pb-5\" :class=\"{ 'd-none': cart.total === 0 }\">\r\n        <div class=\"border border-primary p-3\">\r\n          <div class=\"d-flex justify-content-between\">\r\n            <p>商品共計:</p>\r\n            <p>{{ $filters.currency(cart.total) }}</p>\r\n          </div>\r\n          <div class=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control lh-lg border-dark\"\r\n              v-model=\"coupon_code\"\r\n              placeholder=\"輸入優惠碼\"\r\n            />\r\n            <button type=\"button\" class=\"btn btn-dark\" @click=\"addCouponCode\">\r\n              套用\r\n            </button>\r\n          </div>\r\n          <div\r\n            class=\"d-flex justify-content-between\"\r\n            v-if=\"cart.final_total === cart.total\"\r\n          >\r\n            <p>合計:</p>\r\n            <p>{{ $filters.currency(cart.final_total) }}</p>\r\n          </div>\r\n          <p class=\"text-success\" v-if=\"cart.final_total !== cart.total\">\r\n            已套用優惠券\r\n          </p>\r\n          <div\r\n            class=\"d-flex justify-content-between text-success\"\r\n            v-if=\"cart.final_total !== cart.total\"\r\n          >\r\n            <p>折扣價：</p>\r\n            <p>{{ $filters.currency(cart.final_total) }}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btnStyle w-100\"\r\n            @click=\"this.$router.push('/checkout')\"\r\n            :class=\"{ disabled: cart.total === 0 }\"\r\n          >\r\n            結帳去\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      cart: {},\r\n      coupon_code: '',\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.cart = response.data.data\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    updateCart (item, qty = 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty\r\n      }\r\n      this.$http.put(url, { data: cart }).then((res) => {\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    removeCartItem (item, id) {\r\n      this.status.loadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.$http.delete(url).then((response) => {\r\n        this.$httpMessageState(response, `將\"${item.product.title}\"移除購物車`)\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n        this.emitter.emit('update-cart', id)\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: coupon }).then((response) => {\r\n        this.$httpMessageState(response, '加入優惠券')\r\n        this.getCart()\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/products/${id}`)\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.btnCircle {\r\n  &:hover {\r\n    color: white;\r\n    background-color: #f3acc2;\r\n    border-color: #f3acc2;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CartPage.vue?vue&type=template&id=624ee64a\"\nimport script from \"./CartPage.vue?vue&type=script&lang=js\"\nexport * from \"./CartPage.vue?vue&type=script&lang=js\"\n\nimport \"./CartPage.vue?vue&type=style&index=0&id=624ee64a&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\HZ\\\\Desktop\\\\front-end\\\\toy-factory\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_16","_hoisted_20","_hoisted_24","_createVNode","_component_LoadingEl","active","$data","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","_hoisted_5","_hoisted_6","_hoisted_7","total","_hoisted_8","_hoisted_9","type","onClick","_ctx","push","_hoisted_10","_hoisted_11","_createElementBlock","_Fragment","carts","item","key","id","src","product","imageUrl","alt","title","$options","_hoisted_13","_hoisted_14","qty","disabled","min","readonly","_hoisted_22","currency","final_total","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","placeholder","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","$router","data","cart","coupon_code","status","loadingItem","isLoading","inject","methods","getCart","url","this","$http","get","then","response","updateCart","product_id","put","res","removeCartItem","delete","$httpMessageState","emitter","emit","addCouponCode","coupon","code","post","getProduct","created","__exports__","render"],"sourceRoot":""}