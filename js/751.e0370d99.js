"use strict";(self["webpackChunktoy_factory"]=self["webpackChunktoy_factory"]||[]).push([[751],{4226:function(t,e){e["Z"]={addToFavorite(t){const e=JSON.stringify(t);localStorage.setItem("favoriteList",e)},getFavorite(){return JSON.parse(localStorage.getItem("favoriteList"))}}},8751:function(t,e,i){i.r(e),i.d(e,{default:function(){return at}});i(7658);var a=i(3396),s=i(7139),r=i(9242);const l={class:"container py-5"},c={"aria-label":"breadcrumb"},o={class:"breadcrumb"},d={class:"breadcrumb-item"},n={class:"breadcrumb-item"},u={class:"breadcrumb-item active","aria-current":"page"},p={class:"row row-cols-1 justify-content-center"},g={class:"col col-md-7"},h={class:"position-relative"},b=["src","alt"],_=(0,a._)("i",{class:"bi bi-suit-heart"},null,-1),v=[_],f={class:"col col-md-5"},y={class:"d-flex align-items-center text-primary fw-bold"},m={class:"badge bg-warning rounded-pill fs-5 ms-3 text-dark"},w=(0,a._)("hr",null,null,-1),k={class:"fs-4"},x={class:"py-3 text-secondary",style:{"white-space":"pre-line"}},$={key:0,class:"h5"},z={key:1,class:"h6"},q={key:2,class:"h5 text-danger"},C={class:"input-group pb-3",style:{width:"200px"}},D=(0,a._)("option",{selected:"",disabled:""},"選擇數量",-1),L=["value"],P=(0,a._)("ul",{class:"nav nav-tabs pt-3",id:"myTab",role:"tablist"},[(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link active",id:"first-tab","data-bs-toggle":"tab","data-bs-target":"#first",type:"button",role:"tab","aria-controls":"first","aria-selected":"true"}," 關於產品 ")]),(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link",id:"second-tab","data-bs-toggle":"tab","data-bs-target":"#second",type:"button",role:"tab","aria-controls":"second","aria-selected":"false"}," 關於出貨 ")]),(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link",id:"third-tab","data-bs-toggle":"tab","data-bs-target":"#third",type:"button",role:"tab","aria-controls":"third","aria-selected":"false"}," 關於物流 ")])],-1),T={class:"tab-content py-3",id:"myTabContent"},U={class:"tab-pane fade show active",id:"first",role:"tabpanel","aria-labelledby":"first-tab"},S=(0,a._)("li",null,"所有的展示詳細尺寸材質以及商品描述均有詳細說明。",-1),j=(0,a._)("li",null," 如果產品在架上就是代表有貨，但是偶爾有貨在路上的情況，遇上此情況還望見諒，靜心等待。 ",-1),F=(0,a._)("div",{class:"tab-pane fade",id:"second",role:"tabpanel","aria-labelledby":"second-tab"},[(0,a._)("ul",null,[(0,a._)("li",null,"正常情況我們會在48小時內發貨，如果未能及時出貨，請聯繫客服。"),(0,a._)("li",null," 如遇節日，訂單量多時，可能會延後出貨，還請見諒。我們希望每個人都能收到正確的玩具! ")])],-1),M=(0,a._)("div",{class:"tab-pane fade",id:"third",role:"tabpanel","aria-labelledby":"third-tab"},[(0,a._)("ul",null,[(0,a._)("li",null," 我們與白貓宅急便合作，發貨後通常會於1至2天內送到您手上，請耐心等待。 "),(0,a._)("li",null," 如需查詢物流進度，歡迎至白貓宅急便官網的「訂單查詢」頁面進行查詢。 ")])],-1),I=(0,a._)("hr",null,null,-1),Z=(0,a._)("h4",{class:"text-center"},"— 類似商品 —",-1),H={class:"row row-cols-lg-4 row-cols-sm-2 row-cols-1 g-4 justify-content-center"},O={class:"card h-100 border overflow-hidden"},W=["src","alt","title","onClick"],Y={class:"card-body d-flex flex-column justify-content-between"},J={class:"d-flex justify-content-between align-items-center"},K={class:"card-title fw-bold text-primary mb-0"},N={class:"badge bg-warning rounded-pill text-black"},B=(0,a._)("hr",null,null,-1),E={class:"card-text"},V={class:"text-end"},A={key:0,class:"h5"},G={key:1,class:"h6"},Q={key:2,class:"h5 text-danger"};function R(t,e,i,_,R,X){const tt=(0,a.up)("LoadingEl"),et=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(tt,{active:R.isLoading},null,8,["active"]),(0,a._)("div",l,[(0,a._)("nav",c,[(0,a._)("ol",o,[(0,a._)("li",d,[(0,a.Wm)(et,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("首頁")])),_:1})]),(0,a._)("li",n,[(0,a.Wm)(et,{to:"/products"},{default:(0,a.w5)((()=>[(0,a.Uk)("產品列表")])),_:1})]),(0,a._)("li",u,(0,s.zw)(R.product.title),1)])]),(0,a._)("div",p,[(0,a._)("div",g,[(0,a._)("div",h,[(0,a._)("img",{src:R.product.imageUrl,alt:R.product.title,class:"img-fluid mb-3"},null,8,b),(0,a._)("button",{type:"button",class:(0,s.C_)(["btn btn-primary btnCircle rounded-circle fs-4 text-white position-absolute favBtn",{active:R.favorite.includes(R.product.id)}]),onClick:e[0]||(e[0]=t=>X.toggleFavorite(R.product))},v,2)])]),(0,a._)("div",f,[(0,a._)("h2",y,[(0,a.Uk)((0,s.zw)(R.product.title)+" ",1),(0,a._)("span",m,(0,s.zw)(R.product.category),1)]),w,(0,a._)("div",k,(0,s.zw)(R.product.description),1),(0,a._)("div",x,(0,s.zw)(R.product.content),1),R.product.price===R.product.origin_price?((0,a.wg)(),(0,a.iD)("div",$,(0,s.zw)(t.$filters.currency(R.product.origin_price))+" 元 ",1)):(0,a.kq)("",!0),R.product.price!==R.product.origin_price?((0,a.wg)(),(0,a.iD)("del",z,"原價 "+(0,s.zw)(t.$filters.currency(R.product.origin_price))+" 元",1)):(0,a.kq)("",!0),R.product.price!==R.product.origin_price?((0,a.wg)(),(0,a.iD)("div",q," 現在只要 "+(0,s.zw)(t.$filters.currency(R.product.price))+" 元 ",1)):(0,a.kq)("",!0),(0,a._)("div",C,[(0,a.wy)((0,a._)("select",{class:"form-select border-dark","aria-label":"Default select example","onUpdate:modelValue":e[1]||(e[1]=t=>R.qty=t)},[D,((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(10,(t=>(0,a._)("option",{value:t,key:t},(0,s.zw)(t),9,L))),64))],512),[[r.bM,R.qty]]),(0,a._)("button",{type:"button",class:"btn btn-outline-dark",onClick:e[2]||(e[2]=t=>X.addToCart(R.product.title,R.product.id,R.qty))}," 加入購物車 ")])])]),P,(0,a._)("div",T,[(0,a._)("div",U,[(0,a._)("ul",null,[S,j,(0,a._)("li",null,[(0,a.Uk)(" 關於退換貨，請見"),(0,a._)("a",{class:"link",onClick:e[3]||(e[3]=(0,r.iM)((e=>t.$router.push("/faq")),["prevent"])),style:{cursor:"pointer"}},"常見問題"),(0,a.Uk)("。 ")])])]),F,M]),I,Z,(0,a._)("div",H,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(X.similarProducts,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:e.id},[(0,a._)("div",O,[(0,a._)("img",{src:e.imageUrl,class:"card-img-top img-fluid",style:{"object-fit":"cover",height:"200px",cursor:"pointer"},alt:e.title,title:e.title,onClick:t=>X.goToProduct(e.id)},null,8,W),(0,a._)("div",Y,[(0,a._)("div",null,[(0,a._)("div",J,[(0,a._)("h5",K,(0,s.zw)(e.title),1),(0,a._)("span",N,(0,s.zw)(e.category),1)]),B,(0,a._)("p",E,(0,s.zw)(e.description),1)]),(0,a._)("div",null,[(0,a._)("div",V,[e.price===e.origin_price?((0,a.wg)(),(0,a.iD)("p",A,(0,s.zw)(t.$filters.currency(e.origin_price))+" 元 ",1)):(0,a.kq)("",!0),e.price!==e.origin_price?((0,a.wg)(),(0,a.iD)("del",G," 原價 "+(0,s.zw)(t.$filters.currency(e.origin_price))+" 元 ",1)):(0,a.kq)("",!0),e.price!==e.origin_price?((0,a.wg)(),(0,a.iD)("p",Q," 特價 "+(0,s.zw)(t.$filters.currency(e.price))+" 元 ",1)):(0,a.kq)("",!0)])])])])])))),128))])])],64)}var X=i(4226),tt={data(){return{products:[],product:{},id:"",qty:1,isLoading:!1,favorite:X.Z.getFavorite()||[]}},inject:["emitter"],methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/pengyu-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.product=t.data.product),this.isLoading=!1}))},goToProduct(t){this.$router.push(`/products/${t}`)},getProducts(){const t="https://vue3-course-api.hexschool.io/api/pengyu-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.products=t.data.products),this.isLoading=!1}))},addToCart(t,e,i=1){const a="https://vue3-course-api.hexschool.io/api/pengyu-api/cart",s={product_id:e,qty:i};this.isLoading=!0,this.$http.post(a,{data:s}).then((i=>{this.emitter.emit("update-cart",e),this.$httpMessageState(i,`將"${t}"加入購物車`),this.isLoading=!1}))},toggleFavorite(t){this.favorite.includes(t.id)?(this.favorite.splice(this.favorite.indexOf(t.id),1),this.$httpMessageState({data:{success:!0}},`將"${t.title}"移除我的最愛`)):(this.favorite.push(t.id),this.$httpMessageState({data:{success:!0}},`將"${t.title}"加入我的最愛`)),X.Z.addToFavorite(this.favorite),this.emitter.emit("update-favorite",this.favorite)}},computed:{similarProducts(){const t=this.products.filter((t=>t.category.match(this.product.category)&&t.id!==this.id)),e=t.sort((()=>Math.random()-.5));return e.length>4&&e.splice(0,parseInt(e.length)-4),e}},created(){this.id=this.$route.params.productId,this.getProduct(),this.getProducts()}},et=i(89);const it=(0,et.Z)(tt,[["render",R]]);var at=it}}]);
//# sourceMappingURL=751.e0370d99.js.map