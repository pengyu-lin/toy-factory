{"version":3,"file":"js/751.e0370d99.js","mappings":"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","sources":["webpack://toy-factory/./src/methods/favorite.js","webpack://toy-factory/./src/views/ProductDetail.vue","webpack://toy-factory/./src/views/ProductDetail.vue?f49c"],"sourcesContent":["export default {\r\n  addToFavorite (favorite) {\r\n    const favoriteStr = JSON.stringify(favorite)\r\n    localStorage.setItem('favoriteList', favoriteStr)\r\n  },\r\n  getFavorite () {\r\n    return JSON.parse(localStorage.getItem('favoriteList'))\r\n  }\r\n}\r\n","<template>\r\n  <LoadingEl :active=\"isLoading\" />\r\n  <div class=\"container py-5\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/\">首頁</router-link></li>\r\n        <li class=\"breadcrumb-item\">\r\n          <router-link to=\"/products\">產品列表</router-link>\r\n        </li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">\r\n          {{ product.title }}\r\n        </li>\r\n      </ol>\r\n    </nav>\r\n    <div class=\"row row-cols-1 justify-content-center\">\r\n      <div class=\"col col-md-7\">\r\n        <div class=\"position-relative\">\r\n          <img\r\n            :src=\"product.imageUrl\"\r\n            :alt=\"product.title\"\r\n            class=\"img-fluid mb-3\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary btnCircle rounded-circle fs-4 text-white position-absolute favBtn\"\r\n            :class=\"{ active: favorite.includes(product.id) }\"\r\n            @click=\"toggleFavorite(product)\"\r\n          >\r\n            <i class=\"bi bi-suit-heart\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col col-md-5\">\r\n        <h2 class=\"d-flex align-items-center text-primary fw-bold\">\r\n          {{ product.title }}\r\n          <span class=\"badge bg-warning rounded-pill fs-5 ms-3 text-dark\">\r\n            {{ product.category }}\r\n          </span>\r\n        </h2>\r\n        <hr />\r\n        <div class=\"fs-4\">{{ product.description }}</div>\r\n        <div class=\"py-3 text-secondary\" style=\"white-space: pre-line\">\r\n          {{ product.content }}\r\n        </div>\r\n        <div class=\"h5\" v-if=\"product.price === product.origin_price\">\r\n          {{ $filters.currency(product.origin_price) }} 元\r\n        </div>\r\n        <del class=\"h6\" v-if=\"product.price !== product.origin_price\"\r\n          >原價 {{ $filters.currency(product.origin_price) }} 元</del\r\n        >\r\n        <div\r\n          class=\"h5 text-danger\"\r\n          v-if=\"product.price !== product.origin_price\"\r\n        >\r\n          現在只要 {{ $filters.currency(product.price) }} 元\r\n        </div>\r\n        <div class=\"input-group pb-3\" style=\"width: 200px\">\r\n          <select\r\n            class=\"form-select border-dark\"\r\n            aria-label=\"Default select example\"\r\n            v-model=\"qty\"\r\n          >\r\n            <option selected disabled>選擇數量</option>\r\n            <option :value=\"qty\" v-for=\"qty in 10\" :key=\"qty\">{{ qty }}</option>\r\n          </select>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-dark\"\r\n            @click=\"addToCart(product.title, product.id, qty)\"\r\n          >\r\n            加入購物車\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ul class=\"nav nav-tabs pt-3\" id=\"myTab\" role=\"tablist\">\r\n      <li class=\"nav-item\" role=\"presentation\">\r\n        <button\r\n          class=\"nav-link active\"\r\n          id=\"first-tab\"\r\n          data-bs-toggle=\"tab\"\r\n          data-bs-target=\"#first\"\r\n          type=\"button\"\r\n          role=\"tab\"\r\n          aria-controls=\"first\"\r\n          aria-selected=\"true\"\r\n        >\r\n          關於產品\r\n        </button>\r\n      </li>\r\n      <li class=\"nav-item\" role=\"presentation\">\r\n        <button\r\n          class=\"nav-link\"\r\n          id=\"second-tab\"\r\n          data-bs-toggle=\"tab\"\r\n          data-bs-target=\"#second\"\r\n          type=\"button\"\r\n          role=\"tab\"\r\n          aria-controls=\"second\"\r\n          aria-selected=\"false\"\r\n        >\r\n          關於出貨\r\n        </button>\r\n      </li>\r\n      <li class=\"nav-item\" role=\"presentation\">\r\n        <button\r\n          class=\"nav-link\"\r\n          id=\"third-tab\"\r\n          data-bs-toggle=\"tab\"\r\n          data-bs-target=\"#third\"\r\n          type=\"button\"\r\n          role=\"tab\"\r\n          aria-controls=\"third\"\r\n          aria-selected=\"false\"\r\n        >\r\n          關於物流\r\n        </button>\r\n      </li>\r\n    </ul>\r\n    <div class=\"tab-content py-3\" id=\"myTabContent\">\r\n      <div\r\n        class=\"tab-pane fade show active\"\r\n        id=\"first\"\r\n        role=\"tabpanel\"\r\n        aria-labelledby=\"first-tab\"\r\n      >\r\n        <ul>\r\n          <li>所有的展示詳細尺寸材質以及商品描述均有詳細說明。</li>\r\n          <li>\r\n            如果產品在架上就是代表有貨，但是偶爾有貨在路上的情況，遇上此情況還望見諒，靜心等待。\r\n          </li>\r\n          <li>\r\n            關於退換貨，請見<a\r\n              class=\"link\"\r\n              @click.prevent=\"$router.push('/faq')\"\r\n              style=\"cursor: pointer\"\r\n              >常見問題</a\r\n            >。\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div\r\n        class=\"tab-pane fade\"\r\n        id=\"second\"\r\n        role=\"tabpanel\"\r\n        aria-labelledby=\"second-tab\"\r\n      >\r\n        <ul>\r\n          <li>正常情況我們會在48小時內發貨，如果未能及時出貨，請聯繫客服。</li>\r\n          <li>\r\n            如遇節日，訂單量多時，可能會延後出貨，還請見諒。我們希望每個人都能收到正確的玩具!\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div\r\n        class=\"tab-pane fade\"\r\n        id=\"third\"\r\n        role=\"tabpanel\"\r\n        aria-labelledby=\"third-tab\"\r\n      >\r\n        <ul>\r\n          <li>\r\n            我們與白貓宅急便合作，發貨後通常會於1至2天內送到您手上，請耐心等待。\r\n          </li>\r\n          <li>\r\n            如需查詢物流進度，歡迎至白貓宅急便官網的「訂單查詢」頁面進行查詢。\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <h4 class=\"text-center\">— 類似商品 —</h4>\r\n    <div\r\n      class=\"row row-cols-lg-4 row-cols-sm-2 row-cols-1 g-4 justify-content-center\"\r\n    >\r\n      <div class=\"col\" v-for=\"item in similarProducts\" :key=\"item.id\">\r\n        <div class=\"card h-100 border overflow-hidden\">\r\n          <img\r\n            :src=\"item.imageUrl\"\r\n            class=\"card-img-top img-fluid\"\r\n            style=\"object-fit: cover; height: 200px; cursor: pointer\"\r\n            :alt=\"item.title\"\r\n            :title=\"item.title\"\r\n            @click=\"goToProduct(item.id)\"\r\n          />\r\n          <div class=\"card-body d-flex flex-column justify-content-between\">\r\n            <div>\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <h5 class=\"card-title fw-bold text-primary mb-0\">\r\n                  {{ item.title }}\r\n                </h5>\r\n                <span class=\"badge bg-warning rounded-pill text-black\">\r\n                  {{ item.category }}\r\n                </span>\r\n              </div>\r\n              <hr />\r\n              <p class=\"card-text\">{{ item.description }}</p>\r\n            </div>\r\n            <div>\r\n              <div class=\"text-end\">\r\n                <p class=\"h5\" v-if=\"item.price === item.origin_price\">\r\n                  {{ $filters.currency(item.origin_price) }} 元\r\n                </p>\r\n                <del class=\"h6\" v-if=\"item.price !== item.origin_price\">\r\n                  原價 {{ $filters.currency(item.origin_price) }} 元\r\n                </del>\r\n                <p\r\n                  class=\"h5 text-danger\"\r\n                  v-if=\"item.price !== item.origin_price\"\r\n                >\r\n                  特價 {{ $filters.currency(item.price) }} 元\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport favorite from '@/methods/favorite'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      id: '',\r\n      qty: 1,\r\n      isLoading: false,\r\n      favorite: favorite.getFavorite() || []\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((response) => {\r\n        if (response.data.success) {\r\n          this.product = response.data.product\r\n        }\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    goToProduct (id) {\r\n      this.$router.push(`/products/${id}`)\r\n    },\r\n    getProducts () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((res) => {\r\n        if (res.data.success) {\r\n          this.products = res.data.products\r\n        }\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    addToCart (item, id, qty = 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      const cart = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: cart }).then((response) => {\r\n        this.emitter.emit('update-cart', id)\r\n        this.$httpMessageState(response, `將\"${item}\"加入購物車`)\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    toggleFavorite (item) {\r\n      if (this.favorite.includes(item.id)) {\r\n        this.favorite.splice(this.favorite.indexOf(item.id), 1)\r\n        this.$httpMessageState(\r\n          {\r\n            data: {\r\n              success: true\r\n            }\r\n          },\r\n          `將\"${item.title}\"移除我的最愛`\r\n        )\r\n      } else {\r\n        this.favorite.push(item.id)\r\n        this.$httpMessageState(\r\n          {\r\n            data: {\r\n              success: true\r\n            }\r\n          },\r\n          `將\"${item.title}\"加入我的最愛`\r\n        )\r\n      }\r\n      favorite.addToFavorite(this.favorite)\r\n      this.emitter.emit('update-favorite', this.favorite)\r\n    }\r\n  },\r\n  computed: {\r\n    similarProducts () {\r\n      const similarCategory = this.products.filter((item) => {\r\n        return (\r\n          item.category.match(this.product.category) && item.id !== this.id\r\n        )\r\n      })\r\n      const similarItems = similarCategory.sort(() => Math.random() - 0.5)\r\n      if (similarItems.length > 4) {\r\n        similarItems.splice(0, parseInt(similarItems.length) - 4)\r\n      }\r\n      return similarItems\r\n    }\r\n  },\r\n  created () {\r\n    this.id = this.$route.params.productId\r\n    this.getProduct()\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductDetail.vue?vue&type=template&id=22550625\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\HZ\\\\Desktop\\\\front-end\\\\toy-factory\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["addToFavorite","favorite","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","class","_createElementVNode","_hoisted_11","style","selected","disabled","id","role","type","_createVNode","_component_LoadingEl","active","$data","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","_hoisted_5","_hoisted_6","title","_hoisted_7","_hoisted_8","_hoisted_9","src","imageUrl","alt","includes","onClick","$options","_hoisted_13","_hoisted_14","_hoisted_15","category","_hoisted_16","_hoisted_17","description","_hoisted_18","content","price","origin_price","_createElementBlock","_hoisted_19","_ctx","currency","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_Fragment","qty","value","key","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","push","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","item","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","data","products","product","isLoading","inject","methods","getProduct","api","this","$http","get","then","response","success","goToProduct","$router","getProducts","res","addToCart","url","cart","product_id","post","emitter","emit","$httpMessageState","toggleFavorite","splice","indexOf","computed","similarProducts","similarCategory","filter","match","similarItems","sort","Math","random","length","parseInt","created","$route","params","productId","__exports__","render"],"sourceRoot":""}